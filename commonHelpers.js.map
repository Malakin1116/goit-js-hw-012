{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43967631-6112ded5daea5d7f1facaa737';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = (q = 'pug') => {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q,\n        image_type: 'photo',         \n        orientation: 'horizontal',   \n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n\n        return response.json();\n    });\n};\n","\nexport const createMarkupItem = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n      />\n    </a>\n    <div class=\"small-content\">\n        <span class=\"text-body-likes\"><strong>Likes:</strong> ${likes}</span>\n        <span class=\"text-body-views\"><strong>Views:</strong> ${views}</span>\n        <span class=\"text-body-comments\"><strong>Comments:</strong> ${comments}</span>\n        <span class=\"text-body-downloads\"><strong>Downloads:</strong> ${downloads}</span>\n    </div>\n  </li>\n`;\n      }\n    )\n    .join('');\n};\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchPhotosByQuery } from \"./js/pixabay-api\";\nimport { createMarkupItem } from \"./js/render-functions\";\n\nconst galleryEl = document.querySelector('.js-gallery'); \nconst searchFormEl = document.querySelector('.js-search-form');\nconst loaderEl = document.querySelector('#loader'); \n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n\n    const searchQuery = event.target.elements.searchKeyword.value.trim();\n    if (searchQuery === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.error({\n            title: 'Error',\n            message: 'Illegal operation',\n            position: 'topRight',\n            timeout: 2000,\n        });\n        return;\n    }\n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('hidden');\n\n    fetchPhotosByQuery(searchQuery)\n        .then(imagesData => {\n            if (imagesData.totalHits === 0) {\n                iziToast.show({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    timeout: 2000,\n                    color: 'red',\n                });\n            } else {\n                galleryEl.innerHTML = createMarkupItem(imagesData.hits);\n                lightbox.refresh();  \n            }\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('hidden');\n        });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","fetchPhotosByQuery","q","searchParams","response","createMarkupItem","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryEl","searchFormEl","loaderEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAqB,CAACC,EAAI,QAAU,CAC7C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKJ,EACL,EAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGvC,OAAOA,EAAS,MACxB,CAAK,CACL,EClBaC,EAAmBC,GACvBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,oCAEqBL,CAAa;AAAA;AAAA;AAAA,eAGlCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA,gEAI6CC,CAAK;AAAA,gEACLC,CAAK;AAAA,sEACCC,CAAQ;AAAA,wEACNC,CAAS;AAAA;AAAA;AAAA,CAK5E,EACA,KAAK,EAAE,ECvBNC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAC9D,GAAIC,IAAgB,GAAI,CACpBP,EAAU,UAAY,GACtBM,EAAM,OAAO,QACbE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oBACT,SAAU,WACV,QAAS,GACrB,CAAS,EACD,MACH,CACDR,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,QAAQ,EAElCf,EAAmBoB,CAAW,EACzB,KAAKE,GAAc,CACZA,EAAW,YAAc,EACzBD,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,QAAS,IACT,MAAO,KAC3B,CAAiB,GAEDR,EAAU,UAAYT,EAAiBkB,EAAW,IAAI,EACtDN,EAAS,QAAO,EAEhC,CAAS,EACA,MAAMO,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXJ,EAAM,OAAO,QACbJ,EAAS,UAAU,IAAI,QAAQ,CAC3C,CAAS,CACT,CAEAD,EAAa,iBAAiB,SAAUI,CAAkB"}